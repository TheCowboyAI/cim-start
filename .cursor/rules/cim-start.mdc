---
description: cim-start specific rules
globs: 
---

# Project Overview
This is a management console to build a Domain and Infrastructure for a Composable Information Machine (CIM)
We run on Nixos.
There is a flake.nix to hold our configuration.
This is a Package.
There is an Application Default in order to run on Nixos.
There is a Module to import this into other Nixos systems. 
There is a nixosConfiguration design to run in a systemd-nspawn container using nixos-containers
This is a git repository with a remote origin

# MANDATORY WORKFLOW
Before changing ANY files, make a plan.
Ask for clarification of the plan and authorization to proceed.
When authorized, write the plan to a document and place it into /doc/plans/{plan-name}.md

When making file changes, always stop if the repo is dirty.
INSIST that the repo is not dirty by allowing the current dirty files to be stashed before proceeding.

## After completing tasks
ALWAYS verify the linter is not warning us of problems.
FIX any linter errors, asking for clarity if choices need to be made.
build the package using `nix build`
run any `unit tests`
offer to commit the changes if the tests pass
stop if the test do not pass nd ask if we should correct the tests, or correct the code.
